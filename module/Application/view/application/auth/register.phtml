<?php
$form = $this->form;
$form->prepare();
?>

<h1>Créer un compte</h1>

<?php if ($this->flashMessenger()->hasMessages()): ?>
    <div class="alert alert-info">
        <?php foreach ($this->flashMessenger()->getMessages() as $message): ?>
            <p><?= $this->escapeHtml($message) ?></p>
        <?php endforeach; ?>
    </div>
<?php endif; ?>

<?= $this->form()->openTag($form) ?>
    <?= $this->formRow($form->get('email')) ?>
    <?= $this->formRow($form->get('password')) ?>
    <?= $this->formRow($form->get('password_confirm')) ?>
    <div class="form-check mb-3">
        <?= $this->formCheckbox($form->get('terms')) ?>
        <label class="form-check-label" for="terms">
            J’accepte les <a href="/conditions" target="_blank" rel="noopener">conditions d’utilisation</a>
        </label>
    </div>
    <?= $this->formRow($form->get('csrf')) ?>
    <button type="submit" class="btn btn-primary">
        <span class="bi bi-box-arrow-in-right"></span>
        S'inscrire
    </button>
<?= $this->form()->closeTag() ?>

<p class="mt-3">
    Déjà inscrit ? <a href="<?= $this->url('auth', ['action' => 'login']) ?>">Se connecter</a>
</p>

